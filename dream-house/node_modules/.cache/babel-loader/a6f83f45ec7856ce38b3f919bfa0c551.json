{"ast":null,"code":"import _slicedToArray from \"/home/samuel.almeida@VALEMOBI.CORP/\\xC1rea de Trabalho/Dream-House-web/dream-house/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/samuel.almeida@VALEMOBI.CORP/\\xC1rea de Trabalho/Dream-House-web/dream-house/src/pages/Login.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport Api from \"../api\";\nimport \"../css/login.css\";\nimport { useNavigate } from \"react-router-dom\";\nfunction Login() {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var navigate = useNavigate();\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    emailInput = _useState4[0],\n    setEmailInput = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    senhaInput = _useState6[0],\n    setSenhaInput = _useState6[1];\n  function validateLogin() {\n    if (emailInput !== \"\" || senhaInput !== \"\") {\n      //inputs not blank\n      if (emailInput.trim().toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)) {\n        //valid email\n        return true;\n      } else {\n        alert(\"O email é inválido! Verifique-o e tente novamente.\");\n        return false;\n      }\n    } else {\n      alert(\"Algum dos campos está vazio! Verifique-o e tente novamente.\");\n      return false;\n    }\n  }\n  function doLogin(e) {\n    // localStorage.setItem('Id do usuario', id);\n    // localStorage.setItem(\"email\", JSON.stringify(emailInput));\n    // localStorage.setItem(\"senha\", JSON.stringify(senhaInput));\n    var isValid = validateLogin();\n    if (isValid) setLoading(true);\n    e.preventDefault();\n    Api.post(\"/clientes/login\", {\n      email: emailInput,\n      senha: senhaInput\n    }).then(function (res) {\n      console.log(res.data);\n      if (res.status === 200) {\n        console.log(res.data.id);\n        localStorage.setItem(\"id\", res.data.id);\n        navigate(\"/anuncios\");\n      } else {\n        console.log(res.data);\n      }\n    }).catch(function (err) {\n      alert(\"Usuário ou senha invalidos\");\n      console.error(err);\n    }).finally(function () {\n      setLoading(false);\n    });\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: function onClick() {\n      return navigate(\"/\");\n    },\n    className: \"logo-nav-bar cadastro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, \"Bem-Vindo\"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, \"Acesse sua conta\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: doLogin,\n    className: \"formulario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"label-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 33\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 64\n    }\n  }, \" Email: \"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 80\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input-form\",\n    type: \"email\",\n    value: emailInput\n    //  setValue={setEmailInput} \n    ,\n    onChange: function onChange(e) {\n      return setEmailInput(e.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"label-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 63\n    }\n  }, \" Senha: \"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 79\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input-form\",\n    type: \"password\",\n    value: senhaInput\n    //  setValue={setSenhaInput}\n    ,\n    onChange: function onChange(e) {\n      return setSenhaInput(e.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: doLogin,\n    type: \"submit\",\n    className: \"teste\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, \"Entrar\")))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, \"Esqueceu sua senha?\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, \"N\\xE3o possui uma conta?\", /*#__PURE__*/React.createElement(\"a\", {\n    onClick: function onClick() {\n      return navigate(\"/cadastro\");\n    },\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, \" Cadastre-se\")))));\n}\nexport default Login;","map":{"version":3,"names":["React","useEffect","useState","Api","useNavigate","Login","loading","setLoading","navigate","emailInput","setEmailInput","senhaInput","setSenhaInput","validateLogin","trim","toLowerCase","match","alert","doLogin","e","isValid","preventDefault","post","email","senha","then","res","console","log","data","status","id","localStorage","setItem","catch","err","error","finally","target","value"],"sources":["/home/samuel.almeida@VALEMOBI.CORP/Área de Trabalho/Dream-House-web/dream-house/src/pages/Login.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Api from \"../api\";\nimport \"../css/login.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Login() {\n    const [loading, setLoading] = useState(false);\n    const navigate = useNavigate();\n\n    const [emailInput, setEmailInput] = useState(\"\");\n    const [senhaInput, setSenhaInput] = useState(\"\");\n\n    function validateLogin() {\n        if (emailInput !== \"\" || senhaInput !== \"\") {\n            //inputs not blank\n            if (emailInput.trim().toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)) {\n                //valid email\n                return true;\n            } else {\n                alert(\"O email é inválido! Verifique-o e tente novamente.\");\n                return false;\n            }\n        } else {\n            alert(\"Algum dos campos está vazio! Verifique-o e tente novamente.\");\n            return false;\n        }\n    }\n\n\n    function doLogin(e) {\n        // localStorage.setItem('Id do usuario', id);\n        // localStorage.setItem(\"email\", JSON.stringify(emailInput));\n        // localStorage.setItem(\"senha\", JSON.stringify(senhaInput));\n        const isValid = validateLogin();\n        if (isValid)\n            setLoading(true);\n        e.preventDefault();\n        Api.post(\"/clientes/login\", {\n            email: emailInput,\n            senha: senhaInput\n        }).then((res) => {\n            \n            console.log(res.data);\n            if (res.status === 200) {\n                console.log(res.data.id);\n                localStorage.setItem(\"id\", res.data.id);\n                navigate(\"/anuncios\");\n            } else {\n                console.log(res.data);\n            }\n        }).catch((err) => {\n            alert(\"Usuário ou senha invalidos\")\n            console.error(err);\n        }).finally(() => {\n            setLoading(false);\n        })\n    }\n\n\n\n    return (\n        <>\n            <div className=\"box\">\n                <div className=\"text-container\">\n                    <div onClick={() => navigate(\"/\")} className=\"logo-nav-bar cadastro\"></div>\n                    <h2>Bem-Vindo</h2>\n                    <h5>Acesse sua conta</h5>\n                </div>\n\n                <div className=\"input-container\">\n\n                    <form onSubmit={doLogin} className=\"formulario\">\n                        <div className=\"form-login\">\n\n                            <div className=\"campos\">\n                                <label className=\"label-form\"> <b> Email: </b> <br />\n                                    <input className=\"input-form\" type=\"email\"\n                                        value={emailInput}\n                                        //  setValue={setEmailInput} \n                                        onChange={e => setEmailInput(e.target.value)}\n                                        required /></label>\n                                <br />\n                            </div>\n\n                            <div className=\"campos\">\n                                <label className=\"label-form\"><b> Senha: </b> <br />\n                                    <input className=\"input-form\"\n                                        type=\"password\"\n                                        value={senhaInput}\n                                        //  setValue={setSenhaInput}\n                                        onChange={e => setSenhaInput(e.target.value)}\n                                        required /></label>\n                                <br />\n                            </div>\n\n                            <button onClick={doLogin} type=\"submit\" className=\"teste\">Entrar</button>\n                           \n\n                        </div>\n\n                    </form>\n                </div>\n\n                <div>\n                    <h5>Esqueceu sua senha?</h5>\n                </div>\n\n                <div className=\"link\">\n                    <h5>Não possui uma conta?\n                        <a onClick={() => navigate(\"/cadastro\")} className=\"login\"> Cadastre-se</a>\n                    </h5>\n\n\n\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}