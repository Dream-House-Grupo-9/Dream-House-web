{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"getRootProps\"];\nimport { useTabContext, getTabId, getPanelId } from '../TabsUnstyled';\nimport { useButton } from '../ButtonUnstyled';\nvar useTab = function useTab(props) {\n  var valueProp = props.value,\n    onChange = props.onChange,\n    onClick = props.onClick,\n    onFocus = props.onFocus;\n  var _useButton = useButton(props),\n    getRootPropsButton = _useButton.getRootProps,\n    otherButtonProps = _objectWithoutPropertiesLoose(_useButton, _excluded);\n  var context = useTabContext();\n  if (context === null) {\n    throw new Error('No TabContext provided');\n  }\n  var value = valueProp != null ? valueProp : 0;\n  var selected = context.value === value;\n  var selectionFollowsFocus = context.selectionFollowsFocus;\n  var a11yAttributes = {\n    role: 'tab',\n    'aria-controls': getPanelId(context, value),\n    id: getTabId(context, value),\n    'aria-selected': selected,\n    disabled: otherButtonProps.disabled\n  };\n  var handleFocus = function handleFocus(event) {\n    if (selectionFollowsFocus && !selected) {\n      if (onChange) {\n        onChange(event, value);\n      }\n      context.onSelected(event, value);\n    }\n    if (onFocus) {\n      onFocus(event);\n    }\n  };\n  var handleClick = function handleClick(event) {\n    if (!selected) {\n      if (onChange) {\n        onChange(event, value);\n      }\n      context.onSelected(event, value);\n    }\n    if (onClick) {\n      onClick(event);\n    }\n  };\n  var getRootProps = function getRootProps(otherHandlers) {\n    var buttonResolvedProps = getRootPropsButton(_extends({\n      onClick: handleClick,\n      onFocus: handleFocus\n    }, otherHandlers));\n    return _extends({}, buttonResolvedProps, a11yAttributes);\n  };\n  return _extends({\n    getRootProps: getRootProps\n  }, otherButtonProps, {\n    selected: selected\n  });\n};\nexport default useTab;","map":null,"metadata":{},"sourceType":"module"}