{"ast":null,"code":"import _slicedToArray from \"/home/samuel.almeida@VALEMOBI.CORP/\\xC1rea de Trabalho/Dream-House-web/dream-house/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/samuel.almeida@VALEMOBI.CORP/\\xC1rea de Trabalho/Dream-House-web/dream-house/src/pages/MeusAnuncios.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport NavBar from \"../components/NavBar\";\nimport \"../css/meus-anuncios.css\";\nimport CardMeusAnuncios from \"../components/CardMeusAnuncios\";\nimport \"../Js/ActionModal.js\";\nimport api from \"../api\";\nfunction MeusAnuncios() {\n  var _this = this;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    meusAnuncios = _useState2[0],\n    setAnuncio = _useState2[1];\n  useEffect(function () {\n    api.get(\"/anuncios\").then(function (res) {\n      setAnuncio(res.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n  function deletar(id) {\n    api.delete(\"/\".concat(id)).then(function (res) {\n      setAnuncio(meusAnuncios.filter(function (meusAnuncios) {\n        return meusAnuncios.id !== id;\n      }));\n    }).catch(function (erro) {\n      if (erro.response.status === 404) {\n        setAnuncio(meusAnuncios.filter(function (meusAnuncios) {\n          return meusAnuncios.id !== id;\n        }));\n      }\n      console.log(erro);\n    });\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"batente\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, \"Meus An\\xFAncios\")), meusAnuncios.map(function (anuncio) {\n    return /*#__PURE__*/React.createElement(CardMeusAnuncios, {\n      bairro: anuncio.bairro,\n      cidade: anuncio.cidade,\n      valorMensal: anuncio.valorMensal,\n      id: anuncio.id,\n      key: anuncio.id,\n      funcaoDeletar: deletar,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    });\n  }));\n}\nexport default MeusAnuncios;","map":{"version":3,"names":["React","useEffect","useState","NavBar","CardMeusAnuncios","api","MeusAnuncios","meusAnuncios","setAnuncio","get","then","res","data","catch","err","console","log","deletar","id","delete","filter","erro","response","status","map","anuncio","bairro","cidade","valorMensal"],"sources":["/home/samuel.almeida@VALEMOBI.CORP/Área de Trabalho/Dream-House-web/dream-house/src/pages/MeusAnuncios.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport NavBar from \"../components/NavBar\";\nimport \"../css/meus-anuncios.css\";\nimport CardMeusAnuncios from \"../components/CardMeusAnuncios\";\nimport \"../Js/ActionModal.js\";\nimport api from \"../api\";\n\n\nfunction MeusAnuncios() {\n\n    const [meusAnuncios, setAnuncio] = useState([]);\n\n    useEffect(() => {\n\n        api.get(\"/anuncios\").then((res) => {\n            setAnuncio(res.data);\n        }).catch((err) => {\n            console.log(err);\n        })\n\n    }, [])\n\n    function deletar(id) {\n        api.delete(`/${id}`).then(res => {\n            setAnuncio(meusAnuncios.filter(meusAnuncios => meusAnuncios.id !== id))\n        }).catch(erro => {\n            if (erro.response.status === 404) {\n                setAnuncio(meusAnuncios.filter(meusAnuncios => meusAnuncios.id !== id))\n            }\n            console.log(erro);\n        })\n    }\n\n\n    return (\n        <>\n            <NavBar />\n\n            <div className=\"batente\">\n                <h2 >Meus Anúncios</h2>\n            </div>\n\n            {\n                meusAnuncios.map(anuncio => (\n                    <CardMeusAnuncios\n                        bairro={anuncio.bairro}\n                        cidade={anuncio.cidade}\n                        valorMensal={anuncio.valorMensal}\n                        id={anuncio.id}\n                        key={anuncio.id}\n                        funcaoDeletar={deletar}\n                    />\n                ))\n            }\n\n        </>\n    );\n}\n\nexport default MeusAnuncios;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAO,0BAA0B;AACjC,OAAOC,gBAAgB,MAAM,gCAAgC;AAC7D,OAAO,sBAAsB;AAC7B,OAAOC,GAAG,MAAM,QAAQ;AAGxB,SAASC,YAAY,GAAG;EAAA;EAAA,gBAEeJ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAxCK,YAAY;IAAEC,UAAU;EAE/BP,SAAS,CAAC,YAAM;IAEZI,GAAG,CAACI,GAAG,CAAC,WAAW,CAAC,CAACC,IAAI,CAAC,UAACC,GAAG,EAAK;MAC/BH,UAAU,CAACG,GAAG,CAACC,IAAI,CAAC;IACxB,CAAC,CAAC,CAACC,KAAK,CAAC,UAACC,GAAG,EAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IACpB,CAAC,CAAC;EAEN,CAAC,EAAE,EAAE,CAAC;EAEN,SAASG,OAAO,CAACC,EAAE,EAAE;IACjBb,GAAG,CAACc,MAAM,YAAKD,EAAE,EAAG,CAACR,IAAI,CAAC,UAAAC,GAAG,EAAI;MAC7BH,UAAU,CAACD,YAAY,CAACa,MAAM,CAAC,UAAAb,YAAY;QAAA,OAAIA,YAAY,CAACW,EAAE,KAAKA,EAAE;MAAA,EAAC,CAAC;IAC3E,CAAC,CAAC,CAACL,KAAK,CAAC,UAAAQ,IAAI,EAAI;MACb,IAAIA,IAAI,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;QAC9Bf,UAAU,CAACD,YAAY,CAACa,MAAM,CAAC,UAAAb,YAAY;UAAA,OAAIA,YAAY,CAACW,EAAE,KAAKA,EAAE;QAAA,EAAC,CAAC;MAC3E;MACAH,OAAO,CAACC,GAAG,CAACK,IAAI,CAAC;IACrB,CAAC,CAAC;EACN;EAGA,oBACI,uDACI,oBAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eAEV;IAAK,SAAS,EAAC,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACpB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,sBAAuB,CACrB,EAGFd,YAAY,CAACiB,GAAG,CAAC,UAAAC,OAAO;IAAA,oBACpB,oBAAC,gBAAgB;MACb,MAAM,EAAEA,OAAO,CAACC,MAAO;MACvB,MAAM,EAAED,OAAO,CAACE,MAAO;MACvB,WAAW,EAAEF,OAAO,CAACG,WAAY;MACjC,EAAE,EAAEH,OAAO,CAACP,EAAG;MACf,GAAG,EAAEO,OAAO,CAACP,EAAG;MAChB,aAAa,EAAED,OAAQ;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EACzB;EAAA,CACL,CAAC,CAGP;AAEX;AAEA,eAAeX,YAAY"},"metadata":{},"sourceType":"module"}